<!doctype html>
<html lang='pt-BR'>

<head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width,initial-scale=1' />
    <title>Semana 4 ‚Äî L√≥gica Condicional e Modelagem de Dados</title>
    <link rel='stylesheet' type='text/css' href='../css/style.css' />
</head>

<body>
    <div class='container'>

        <header>
            <h1 id='sem4'>SEMANA 4 ‚Äì L√≥gica Condicional e Modelagem de Dados</h1>
            <p class='lead'>Nesta semana, voc√™ aprender√° a modelar o banco de dados do seu projeto,
                criando o Diagrama Entidade-Relacionamento (DER) e o Modelo Entidade-Relacionamento (MER).</p>
        </header>
        <hr />

        <p>A modelagem de dados √© a etapa em que definimos <strong>quais informa√ß√µes</strong> o sistema
            vai armazenar e <strong>como elas se relacionam</strong> entre si. Um modelo bem constru√≠do
            facilita todo o desenvolvimento posterior e evita erros dif√≠ceis de corrigir depois.</p>

        <table class="box-table tip-table">
            <tr>
                <td class="box-content tip" role="note" aria-labelledby="curiosity-s4">
                    <div id="curiosity-s4" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                            alt="Curiosidade"><strong>Voc√™ Sabia?</strong></div>
                    <div>
                        <ul>
                            <li>O modelo Entidade-Relacionamento foi proposto por <strong>Peter Chen</strong>
                                em 1976 e ainda √© o padr√£o mais utilizado para modelagem conceitual de bancos
                                de dados.</li>
                            <li>Um banco de dados bem modelado pode ser at√© <strong>10x mais eficiente</strong>
                                em consultas do que um banco n√£o normalizado.</li>
                            <li>O Firebase (usado neste projeto) utiliza o <strong>Firestore</strong>, um banco
                                de dados NoSQL orientado a documentos, ideal para apps mobile pela sua
                                flexibilidade e performance em tempo real.</li>
                        </ul>
                        <p class="small" style="margin-top: 1em; color: #666; font-style: italic;">Fonte: Chen,
                            P. (1976). The Entity-Relationship Model.</p>
                    </div>
                </td>
            </tr>
        </table>

        <section id='sec4-1'>
            <h2>4.1 Conceitos de Modelagem de Dados</h2>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="def-s4-ent">
                        <div id="def-s4-ent" class="box-title"><img src="../images/icon-definicao.png" class="icon-img"
                                alt="Defini√ß√£o"><strong>Defini√ß√£o</strong></div>
                        <div>
                            <p><strong>Entidade:</strong> representa um objeto do mundo real sobre o qual queremos
                                armazenar informa√ß√µes. Exemplos: <em>Usu√°rio</em>, <em>Despesa</em>,
                                <em>Categoria</em>. Em um banco de dados NoSQL como o Firestore, cada entidade
                                vira uma <strong>cole√ß√£o</strong> (collection), e cada registro vira um
                                <strong>documento</strong> (document).
                            </p>
                        </div>
                    </td>
                </tr>
            </table>

            <table class='content-table'>
                <caption><strong>Tabela 4.1 - </strong>Conceitos fundamentais de modelagem de dados.</caption>
                <thead>
                    <tr>
                        <th>Conceito</th>
                        <th>Descri√ß√£o</th>
                        <th>Exemplo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Entidade</strong></td>
                        <td>Objeto ou conceito do mundo real</td>
                        <td>Usu√°rio, Produto, Pedido</td>
                    </tr>
                    <tr>
                        <td><strong>Atributo</strong></td>
                        <td>Propriedade/caracter√≠stica de uma entidade</td>
                        <td>nome, e-mail, data_nascimento</td>
                    </tr>
                    <tr>
                        <td><strong>Chave Prim√°ria (PK) / Document ID</strong></td>
                        <td>Identificador √∫nico de cada registro (documento)</td>
                        <td>Document ID (gerado automaticamente pelo Firestore)</td>
                    </tr>
                    <tr>
                        <td><strong>Chave Estrangeira (FK) / Reference</strong></td>
                        <td>Campo que referencia um documento de outra cole√ß√£o</td>
                        <td>usuarioRef em Despesa (Reference para Users)</td>
                    </tr>
                    <tr>
                        <td><strong>Relacionamento</strong></td>
                        <td>Associa√ß√£o entre duas entidades</td>
                        <td>Usu√°rio <em>possui</em> Despesas</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id='sec4-2'>
            <h2>4.2 Cardinalidade dos Relacionamentos</h2>
            <p>A <strong>cardinalidade</strong> indica quantas ocorr√™ncias de uma entidade podem se associar
                a quantas ocorr√™ncias de outra entidade. √â fundamental para modelar corretamente o banco.</p>

            <table class='content-table'>
                <caption><strong>Tabela 4.2 - </strong>Tipos de cardinalidade em relacionamentos.</caption>
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Nota√ß√£o</th>
                        <th>Exemplo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Um para Um (1:1)</strong></td>
                        <td>1 ‚Äî 1</td>
                        <td>Usu√°rio possui um √∫nico Perfil</td>
                    </tr>
                    <tr>
                        <td><strong>Um para Muitos (1:N)</strong></td>
                        <td>1 ‚Äî N</td>
                        <td>Um Usu√°rio possui muitas Despesas</td>
                    </tr>
                    <tr>
                        <td><strong>Muitos para Muitos (N:M)</strong></td>
                        <td>N ‚Äî M</td>
                        <td>Um Produto pertence a muitas Categorias; uma Categoria tem muitos Produtos</td>
                    </tr>
                </tbody>
            </table>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="tip-s4-nm">
                        <div id="tip-s4-nm" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Dica"><strong>Dica: Relacionamento N:M</strong></div>
                        <div>
                            <p>Relacionamentos muitos-para-muitos (N:M) s√£o implementados com uma
                                <strong>tabela intermedi√°ria (tabela associativa)</strong>. Por exemplo,
                                a rela√ß√£o entre <em>Produto</em> e <em>Pedido</em> gera a tabela
                                <em>ItemPedido</em> com as chaves estrangeiras de ambos.
                            </p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec4-3'>
            <h2>4.3 Criando o DER do Projeto</h2>
            <p>O <strong>Diagrama Entidade-Relacionamento (DER)</strong> √© a representa√ß√£o visual do modelo
                conceitual do banco de dados. Ele mostra as entidades, seus atributos e os relacionamentos
                entre elas.</p>

            <h3>Passo a Passo para criar o DER</h3>
            <ol>
                <li>Liste todas as <strong>entidades</strong> identificadas nos seus requisitos funcionais.</li>
                <li>Para cada entidade, defina seus <strong>atributos</strong> (nome, tipo, obrigat√≥rio?).</li>
                <li>Identifique os <strong>relacionamentos</strong> entre as entidades.</li>
                <li>Defina a <strong>cardinalidade</strong> de cada relacionamento.</li>
                <li>Identifique as <strong>chaves prim√°rias</strong> de cada entidade.</li>
                <li>Desenhe o diagrama usando uma ferramenta adequada.</li>
            </ol>

            <h3>Ferramentas para criar o DER</h3>
            <table class='content-table'>
                <caption><strong>Tabela 4.3 - </strong>Ferramentas recomendadas para modelagem de dados.</caption>
                <thead>
                    <tr>
                        <th>Ferramenta</th>
                        <th>Acesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>brModelo Web</strong></td>
                        <td>Online, gratuito ‚Äî <a href="https://www.brmodeloweb.com/lang/pt-br/index.html"
                                target="_blank">brmodeloweb.com</a></td>
                    </tr>
                    <tr>
                        <td><strong>draw.io (diagrams.net)</strong></td>
                        <td>Online, gratuito ‚Äî app.diagrams.net</td>
                    </tr>
                    <tr>
                        <td><strong>dbdiagram.io</strong></td>
                        <td>Online, gratuito ‚Äî dbdiagram.io</td>
                    </tr>
                    <tr>
                        <td><strong>Lucidchart</strong></td>
                        <td>Online, gratuito (plano educa√ß√£o)</td>
                    </tr>
                    <tr>
                        <td><strong>MySQL Workbench</strong></td>
                        <td>Desktop, gratuito</td>
                    </tr>
                </tbody>
            </table>

            <h3>Exemplo: DER de um App Financeiro</h3>
            <p>Para o app <em>FinanCampus</em>, as entidades e relacionamentos seriam:</p>
            <ul>
                <li><strong>Usuario</strong> (id, nome, email, senha, created_at) ‚Äî 1 usu√°rio possui N despesas</li>
                <li><strong>Categoria</strong> (id, nome, icone, cor) ‚Äî 1 categoria classifica N despesas</li>
                <li><strong>Despesa</strong> (id, descricao, valor, data, usuario_id FK, categoria_id FK)</li>
                <li><strong>Receita</strong> (id, descricao, valor, data, usuario_id FK)</li>
            </ul>

            <p>A <strong>Figura 4.1</strong> apresenta o DER completo do app FinanCampus, com as entidades,
                seus atributos e os relacionamentos de cardinalidade entre elas.</p>

            <figure class='figure'>
                <img src='../images/fig04_1_der.png'
                    alt='Diagrama Entidade-Relacionamento do app FinanCampus com 4 entidades' class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 4.1 ‚Äî </strong>Diagrama Entidade-Relacionamento (DER)
                    do app FinanCampus.</figcaption>
            </figure>

            <table class="box-table warning-table">
                <tr>
                    <td class="box-content warning" role="note" aria-labelledby="warn-s4">
                        <div id="warn-s4" class="box-title"><img src="../images/icon-importante.png" class="icon-img"
                                alt="Importante"><strong>Importante</strong></div>
                        <div>
                            <p>Nomeie as cole√ß√µes e campos em <strong>letras min√∫sculas sem acentos</strong>,
                                usando a conven√ß√£o <em>camelCase</em> (padr√£o do Firebase). Por exemplo:
                                <code>criadoEm</code>, <code>usuarioRef</code>, <code>categoriaRef</code>.
                                Isso facilita a integra√ß√£o com o Firestore nas pr√≥ximas semanas.
                            </p>
                        </div>
                    </td>
                </tr>
            </table>

            <h3>Por Que Separar os Dados em Tabelas? ‚Äî Normaliza√ß√£o</h3>
            <p>Um dos objetivos do DER √© garantir que os dados n√£o se repitam desnecessariamente no banco.
                Esse processo se chama <strong>normaliza√ß√£o</strong>. Imagine uma tabela √∫nica que
                armazenasse, em cada linha de despesa, o nome e o e-mail do usu√°rio e o nome da categoria.
                Se a categoria "Alimenta√ß√£o" for renomeada para "Comida", voc√™ teria que atualizar centenas
                de linhas. Ao separ√°-la em uma tabela pr√≥pria, basta alterar uma √∫nica linha.</p>
            <p>A <strong>Figura 4.2</strong> compara um design sem normaliza√ß√£o ("tabela plana") com o
                design normalizado equivalente, mostrando como as chaves estrangeiras eliminam a redund√¢ncia.</p>

            <figure class='figure'>
                <img src='../images/fig04_2_normalizacao.png'
                    alt='Compara√ß√£o entre tabela sem normaliza√ß√£o com dados repetidos e tabela normalizada com tr√™s entidades separadas'
                    class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 4.2 ‚Äî </strong>Antes e depois da normaliza√ß√£o: separar
                    dados em tabelas elimina redund√¢ncia e facilita manuten√ß√£o.</figcaption>
            </figure>
        </section>

        <section id='sec4-4'>
            <h2>4.4 Entreg√°vel da Semana</h2>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="resumo-s4">
                        <div id="resumo-s4" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Resumo"><strong>Resumo da Semana</strong></div>
                        <div>
                            <ul>
                                <li><strong>DER completo</strong> do projeto com todas as entidades e
                                    relacionamentos identificados.</li>
                                <li><strong>Tabela de atributos</strong> de cada entidade (nome, tipo de dado,
                                    obrigat√≥rio, chave prim√°ria/estrangeira).</li>
                                <li><strong>Justificativa</strong> breve dos relacionamentos escolhidos
                                    (por que 1:N? por que N:M?).</li>
                                <li><strong>Distribui√ß√£o de CRUDs por integrante:</strong> com base no DER
                                    finalizado, cada membro do grupo define qual entidade ir√° implementar
                                    completamente ‚Äî do banco de dados at√© as telas de listagem, cria√ß√£o,
                                    edi√ß√£o e exclus√£o ‚Äî nas semanas seguintes.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>

            <p>Na pr√≥xima semana, voc√™ ir√° configurar o projeto Firebase, criar o banco de dados
                Firestore e definir as cole√ß√µes e campos identificados neste modelo.</p>
        </section>

        <section id='caso-sem4'>
            <h2>4.5 Estudo de Caso: FinanCampus</h2>
            <p>Veja o modelo de dados que o grupo do <strong>FinanCampus</strong> criou nesta semana.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="caso-sem4-label">
                        <div id="caso-sem4-label" class="box-title"><img src="../images/icon-observacao.png"
                                class="icon-img" alt="Estudo de Caso"><strong>üì± Estudo de Caso ‚Äî Semana 4</strong>
                        </div>
                        <div>
                            <p><strong>Entidades identificadas:</strong></p>
                            <ul>
                                <li><strong>Usuario</strong> (id, nome, email, criadoEm) ‚Äî gerenciado pelo
                                    Firebase Auth</li>
                                <li><strong>Categoria</strong> (id, nome, icone, cor)</li>
                                <li><strong>Despesa</strong> (id, descricao, valor, data, usuarioRef,
                                    categoriaRef, criadoEm)</li>
                                <li><strong>Receita</strong> (id, descricao, valor, data, usuarioRef,
                                    criadoEm)</li>
                            </ul>
                            <p><strong>Relacionamentos:</strong></p>
                            <ul>
                                <li>1 <strong>Usuario</strong> possui N <strong>Despesas</strong> (1:N)</li>
                                <li>1 <strong>Usuario</strong> possui N <strong>Receitas</strong> (1:N)</li>
                                <li>1 <strong>Categoria</strong> classifica N <strong>Despesas</strong> (1:N)</li>
                            </ul>
                            <p><strong>Decis√£o do grupo:</strong> n√£o criar uma entidade <em>Orcamento</em>
                                separada ‚Äî o or√ßamento mensal ficar√° como um campo na tabela de perfil do usu√°rio
                                (campo <code>orcamento_mensal</code> em <em>Usuario</em>), pois cada usu√°rio
                                tem um √∫nico or√ßamento.</p>
                            <p><strong>Distribui√ß√£o dos CRUDs (definida nesta semana, ap√≥s o DER):</strong></p>
                            <ul>
                                <li><strong>Ana</strong> ‚Üí CRUD completo de <em>Receitas</em></li>
                                <li><strong>Bruno</strong> ‚Üí CRUD completo de <em>Despesas</em></li>
                                <li><strong>Carla</strong> ‚Üí CRUD completo de <em>Perfil de Usu√°rio</em></li>
                                <li><strong>Diego</strong> ‚Üí CRUD completo de <em>Categorias</em></li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <div class="page-foot">Prof. Rafael Vargas Mesquita ‚Äî Projeto Integrador ‚Ä¢ Semana 4</div>

    </div>
</body>

</html>