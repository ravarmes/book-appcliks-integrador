<!doctype html>
<html lang='pt-BR'>

<head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width,initial-scale=1' />
    <title>Semana 7 ‚Äî Listas Din√¢micas e Mapeamento de Telas</title>
    <link rel='stylesheet' type='text/css' href='../css/style.css' />
</head>

<body>
    <div class='container'>

        <header>
            <h1 id='sem7'>SEMANA 7 ‚Äì Listas Din√¢micas e Mapeamento de Telas</h1>
            <p class='lead'>Nesta semana, voc√™ ir√° mapear todas as telas do seu aplicativo, construir
                o diagrama de navega√ß√£o completo e implementar as listas din√¢micas que exibem dados
                do banco em tempo real ‚Äî conectando tudo que foi criado nas semanas anteriores.</p>
        </header>
        <hr />

        <p>Na <strong>Semana 6</strong> voc√™ usou <em>Navigate Back</em> e <em>Navigate To</em> dentro
            dos fluxos de Create, Update e Delete ‚Äî apenas para redirecionar o usu√°rio ap√≥s uma opera√ß√£o
            (ex.: voltar √† listagem ap√≥s salvar). Essa √© uma navega√ß√£o <strong>pontual e funcional</strong>,
            embutida em uma Action.</p>

        <p>Agora, na <strong>Semana 7</strong>, o foco √© diferente: voc√™ vai <strong>arquitetar a
                navega√ß√£o do app como um todo</strong>. Isso significa decidir quantas telas o app ter√°,
            como elas se organizam (Bottom Navigation Bar, fluxo de autentica√ß√£o, telas de detalhe),
            e desenhar um diagrama que representa todos esses caminhos. Em seguida, voc√™ implementa
            as <strong>listas din√¢micas</strong> ‚Äî telas que buscam e exibem dados do banco em
            tempo real usando <em>ListView</em> com <em>Backend Query</em>.</p>

        <p>Um app com boa experi√™ncia de usu√°rio precisa ter uma <strong>navega√ß√£o clara e previs√≠vel</strong>.
            Mapear todas as telas antes de implementar evita problemas de fluxo e garante que o usu√°rio
            sempre saiba onde est√° e como chegar onde quer.</p>

        <table class="box-table tip-table">
            <tr>
                <td class="box-content tip" role="note" aria-labelledby="curiosity-s7">
                    <div id="curiosity-s7" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                            alt="Curiosidade"><strong>Voc√™ Sabia?</strong></div>
                    <div>
                        <ul>
                            <li>Apps de sucesso t√™m em m√©dia <strong>3 a 5 telas principais</strong> acess√≠veis
                                com no m√°ximo 2 toques a partir da tela inicial.</li>
                            <li>O <strong>Bottom Navigation Bar</strong> (barra inferior de navega√ß√£o) √©
                                o padr√£o mais usado em apps Android modernos segundo o Material Design.</li>
                            <li>Listas din√¢micas com lazy loading melhoram o desempenho ao carregar
                                apenas os dados vis√≠veis na tela.</li>
                        </ul>
                        <p class="small" style="margin-top: 1em; color: #666; font-style: italic;">Fonte:
                            Google Material Design Guidelines; Nielsen Norman Group.</p>
                    </div>
                </td>
            </tr>
        </table>

        <section id='sec7-1'>
            <h2>7.1 Mapeamento de Telas</h2>
            <p>O <strong>mapeamento de telas</strong> √© um invent√°rio de todas as p√°ginas do aplicativo,
                organizadas por categoria ou fluxo. Ele serve como refer√™ncia para toda a equipe e
                facilita a implementa√ß√£o no FlutterFlow.</p>

            <h3>Categorias de Telas</h3>
            <table class='content-table'>
                <caption><strong>Tabela 7.1 - </strong>Categorias t√≠picas de telas em um app mobile.</caption>
                <thead>
                    <tr>
                        <th>Categoria</th>
                        <th>Exemplos</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Onboarding / Autentica√ß√£o</strong></td>
                        <td>Splash, Boas-vindas, Login, Cadastro, Recuperar Senha</td>
                    </tr>
                    <tr>
                        <td><strong>Navega√ß√£o Principal</strong></td>
                        <td>Home, Dashboard, Menu Principal</td>
                    </tr>
                    <tr>
                        <td><strong>Listagens</strong></td>
                        <td>Lista de Despesas, Lista de Produtos, Hist√≥rico</td>
                    </tr>
                    <tr>
                        <td><strong>Detalhe / Edi√ß√£o</strong></td>
                        <td>Detalhe do Item, Editar Perfil, Editar Despesa</td>
                    </tr>
                    <tr>
                        <td><strong>Cria√ß√£o</strong></td>
                        <td>Nova Despesa, Adicionar Produto, Criar Evento</td>
                    </tr>
                    <tr>
                        <td><strong>Configura√ß√µes / Perfil</strong></td>
                        <td>Perfil do Usu√°rio, Configura√ß√µes, Notifica√ß√µes</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id='sec7-2'>
            <h2>7.2 Criando o Diagrama de Navega√ß√£o</h2>
            <p>O <strong>diagrama de navega√ß√£o</strong> mapeia todas as telas do app e as conex√µes
                entre elas. √â o equivalente a um mapa do seu app ‚Äî antes de construir, voc√™ precisa
                saber para onde cada bot√£o leva. A <strong>Figura 7.1</strong> ilustra um exemplo
                de diagrama de navega√ß√£o para o app FinanCampus com suas principais telas e fluxos.</p>

            <figure class='figure'>
                <img src='../images/fig07_1_navegacao.png' alt='Diagrama de navega√ß√£o entre telas do app FinanCampus'
                    class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 7.1 ‚Äî </strong>Diagrama de navega√ß√£o do app
                    FinanCampus: telas e fluxos de transi√ß√£o.</figcaption>
            </figure>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="def-s7-nav">
                        <div id="def-s7-nav" class="box-title"><img src="../images/icon-definicao.png" class="icon-img"
                                alt="Defini√ß√£o"><strong>Defini√ß√£o</strong></div>
                        <div>
                            <p><strong>User Flow (Fluxo do Usu√°rio)</strong> √© um
                                <strong>conceito</strong> de UX, n√£o uma ferramenta. Ele representa
                                visualmente os caminhos que um usu√°rio pode percorrer dentro do app
                                para completar uma tarefa ‚Äî mostrando todas as telas e as transi√ß√µes
                                entre elas, incluindo decis√µes (ex.: logado / n√£o logado). O
                                <strong>Diagrama de Navega√ß√£o</strong> √© o documento que representa
                                esse User Flow graficamente.
                            </p>
                        </div>
                    </td>
                </tr>
            </table>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="tip-s7-whimsical">
                        <div id="tip-s7-whimsical" class="box-title"><img src="../images/icon-observacao.png"
                                class="icon-img" alt="Dica"><strong>Ferramentas para criar o Diagrama de
                                Navega√ß√£o</strong></div>
                        <div>
                            <p><strong>Op√ß√£o 1 ‚Äî <a href="https://whimsical.com" target="_blank">Whimsical</a></strong>
                                (whimsical.com): ferramenta online, gratuita e criada especificamente para
                                flowcharts e User Flows. Basta criar uma conta, escolher o template
                                <em>Flowchart</em> e come√ßar a adicionar ret√¢ngulos (telas) e setas
                                (navega√ß√µes). N√£o requer instala√ß√£o e funciona direto no navegador.
                                <strong>Recomendada por ser a mais simples e intuitiva para esta tarefa.</strong>
                            </p>
                            <p><strong>Op√ß√£o 2 ‚Äî <a href="https://balsamiq.com" target="_blank">Balsamiq</a></strong>
                                (balsamiq.com): embora seja uma ferramenta projetada principalmente para
                                <em>wireframes</em> de telas (como utilizado na Semana 3), o Balsamiq
                                possui formas b√°sicas e conectores que permitem criar um diagrama de
                                navega√ß√£o simples. Se voc√™ j√° tem familiaridade com ele, pode aproveit√°-lo
                                aqui ‚Äî apenas saiba que esta n√£o √© sua fun√ß√£o principal e os recursos de
                                flowchart s√£o mais limitados do que no Whimsical.
                            </p>
                        </div>
                    </td>
                </tr>
            </table>


            <h3>Elementos do Diagrama de Navega√ß√£o</h3>
            <ul>
                <li><strong>Ret√¢ngulo:</strong> representa uma tela (p√°gina).</li>
                <li><strong>Seta:</strong> representa a navega√ß√£o entre telas.</li>
                <li><strong>Losango:</strong> representa uma decis√£o (ex: usu√°rio est√° logado?).</li>
                <li><strong>R√≥tulo na seta:</strong> descreve a a√ß√£o que aciona a navega√ß√£o.</li>
            </ul>

            <h3>Padr√µes de Navega√ß√£o no FlutterFlow</h3>
            <table class='content-table'>
                <caption><strong>Tabela 7.2 - </strong>Tipos de navega√ß√£o dispon√≠veis no FlutterFlow.</caption>
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Comportamento</th>
                        <th>Quando Usar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Navigate To</strong></td>
                        <td>Vai para uma nova tela, mantendo hist√≥rico</td>
                        <td>Navega√ß√£o normal (lista ‚Üí detalhe)</td>
                    </tr>
                    <tr>
                        <td><strong>Navigate Back</strong></td>
                        <td>Volta para a tela anterior</td>
                        <td>Bot√£o "Voltar"</td>
                    </tr>
                    <tr>
                        <td><strong>Navigate & Remove All</strong></td>
                        <td>Vai para uma tela limpando o hist√≥rico</td>
                        <td>Ap√≥s login; ap√≥s logout</td>
                    </tr>
                    <tr>
                        <td><strong>Bottom Nav Bar</strong></td>
                        <td>Navega√ß√£o por abas na parte inferior</td>
                        <td>Se√ß√µes principais do app</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id='sec7-3'>
            <h2>7.3 Listas Din√¢micas no FlutterFlow</h2>
            <p>Uma <strong>lista din√¢mica</strong> exibe dados vindos do banco em um componente de lista
                (ListView, GridView). No FlutterFlow, voc√™ configura a fonte de dados da lista via
                <em>Backend Query</em> e mapeia os campos para os elementos visuais.
            </p>

            <h3>Criando uma Lista Din√¢mica</h3>
            <ol>
                <li>Adicione um <strong>ListView</strong> ou <strong>GridView</strong> √† tela.</li>
                <li>Configure o <strong>Backend Query</strong>: selecione a tabela e os filtros desejados.</li>
                <li>Crie um <strong>Card componente</strong> para representar cada item da lista.</li>
                <li>Mapeie os campos do banco para os textos e imagens do Card.</li>
                <li>Configure a <strong>a√ß√£o de clique</strong> para navegar ao detalhe do item.</li>
            </ol>

            <h3>Filtros e Ordena√ß√£o</h3>
            <p>No Query Builder do FlutterFlow, voc√™ pode adicionar:</p>
            <ul>
                <li><strong>Filtros (<em>where</em>):</strong> exibir apenas registros do usu√°rio logado
                    (<code>usuario_id == currentUserUid</code>).</li>
                <li><strong>Ordena√ß√£o (<em>order</em>):</strong> ordenar por data, valor ou nome.</li>
                <li><strong>Pagina√ß√£o (<em>limit</em>):</strong> carregar apenas os primeiros N registros
                    para melhorar o desempenho.</li>
            </ul>

            <p>A <strong>Figura 7.2</strong> representa visualmente o fluxo completo de um ListView com
                Backend Query: os dados saem da tabela do Supabase, passam pelo filtro configurado no
                Query Builder e chegam at√© os widgets Card da tela, com cada campo mapeado via
                <em>Set from Variable</em>.
            </p>

            <figure class='figure'>
                <img src='../images/fig07_2_listview_query.png'
                    alt='Diagrama mostrando o fluxo de dados do Supabase para o ListView via Backend Query no FlutterFlow'
                    class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 7.2 ‚Äî </strong>ListView com Backend Query: dados do
                    Supabase ‚Üí filtro/ordena√ß√£o ‚Üí Card na tela, com campos vinculados via Set from Variable.
                </figcaption>
            </figure>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="tip-s7-fk">
                        <div id="tip-s7-fk" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Dica"><strong>Foreign Keys j√° carregadas pelo Get Schema</strong></div>
                        <div>
                            <p>Quando o FlutterFlow importou o schema do Supabase via <em>Get Schema</em>
                                na Semana 6, ele tamb√©m reconheceu as <strong>Foreign Keys</strong>
                                definidas entre as tabelas. Isso significa que, ao configurar o
                                <em>Backend Query</em> do ListView de Despesas, voc√™ pode acessar
                                diretamente os campos da tabela relacionada ‚Äî por exemplo:
                            </p>
                            <ul>
                                <li><code>despesa.categoria.nome</code> ‚Äî exibe o nome da categoria
                                    sem precisar fazer uma segunda query.</li>
                                <li><code>despesa.categoria.cor</code> ‚Äî usa a cor da categoria para
                                    colorir o √≠cone do card, mantendo coer√™ncia visual com o banco.</li>
                            </ul>
                            <p>Esse acesso via FK √© poss√≠vel porque o Supabase retorna os dados
                                j√° com os relacionamentos resolvidos quando configurado corretamente
                                na query. Explore esses campos ao mapear os widgets do Card para
                                enriquecer a listagem com dados reais relacionados.</p>
                        </div>
                    </td>
                </tr>
            </table>

            <table class="box-table warning-table">
                <tr>
                    <td class="box-content warning" role="note" aria-labelledby="warn-s7">
                        <div id="warn-s7" class="box-title"><img src="../images/icon-importante.png" class="icon-img"
                                alt="Importante"><strong>Importante</strong></div>
                        <div>
                            <p>Sempre filtre os dados pelo <strong>usu√°rio logado</strong> em listas que
                                exibem informa√ß√µes pessoais. Use <code>auth.uid()</code> no filtro do Supabase
                                ou <code>currentUserUid</code> no FlutterFlow para garantir que cada usu√°rio
                                veja apenas seus pr√≥prios dados.</p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec7-4'>
            <h2>7.4 Entreg√°vel da Semana</h2>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="resumo-s7">
                        <div id="resumo-s7" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Resumo"><strong>Resumo da Semana</strong></div>
                        <div>
                            <ul>
                                <li><strong>Mapa de telas</strong> completo do app (tabela com nome, categoria
                                    e descri√ß√£o de cada tela).</li>
                                <li><strong>Diagrama de navega√ß√£o</strong> mostrando os fluxos entre as telas.</li>
                                <li><strong>Listas din√¢micas implementadas</strong> para as entidades principais
                                    do projeto.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>

            <p>Na pr√≥xima semana, voc√™ ir√° construir a identidade visual do app: logo, √≠cone, paleta
                de cores e splash screen.</p>
        </section>

        <section id='caso-sem7'>
            <h2>7.5 Estudo de Caso: FinanCampus</h2>
            <p>Veja o mapeamento completo de telas que o grupo do <strong>FinanCampus</strong>
                elaborou nesta semana.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="caso-sem7-label">
                        <div id="caso-sem7-label" class="box-title"><img src="../images/icon-observacao.png"
                                class="icon-img" alt="Estudo de Caso"><strong>üì± Estudo de Caso ‚Äî Semana 7</strong>
                        </div>
                        <div>
                            <p><strong>Mapa de telas ‚Äî FinanCampus (11 telas):</strong></p>
                            <ul>
                                <li><strong>Autentica√ß√£o:</strong> Splash | Login | Cadastro | Recuperar Senha</li>
                                <li><strong>Principal (Bottom Nav ‚Äî 4 abas):</strong> Home/Dashboard |
                                    Lista de Despesas | Nova Despesa | Perfil</li>
                                <li><strong>Detalhes/Edi√ß√£o:</strong> Detalhe da Despesa | Editar Despesa |
                                    Definir Or√ßamento</li>
                            </ul>
                            <p><strong>Diagrama de navega√ß√£o</strong> criado no
                                <a href="https://whimsical.com" target="_blank">Whimsical</a>. Fluxo principal:
                                <em>Splash ‚Üí [usu√°rio logado?] ‚Üí sim: Home / n√£o: Login ‚Üí Home</em>.
                                A partir do <em>Home</em>, o usu√°rio acessa as 4 abas pelo Bottom
                                Navigation Bar. O bot√£o flutuante (+) no Home navega diretamente para
                                <em>Nova Despesa</em>. Toque em um item da lista navega para
                                <em>Detalhe da Despesa</em>, que d√° acesso a <em>Editar Despesa</em>
                                pelo bot√£o de edi√ß√£o.
                            </p>
                            <p><strong>Lista din√¢mica implementada</strong> na tela "Lista de Despesas":
                                widget <em>ListView</em> com <em>Backend Query</em> no Supabase,
                                filtrado por <code>usuario_id = auth.uid()</code>, ordenado por
                                <code>data DESC</code>, limite de 50 registros. Cada item exibe um
                                widget <em>Card</em> com <em>Row</em> contendo: √≠cone da categoria,
                                descri√ß√£o, valor e data ‚Äî todos vinculados via <em>Set from Variable</em>
                                ao resultado da query.
                            </p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <div class="page-foot">Prof. Rafael Vargas Mesquita ‚Äî Projeto Integrador ‚Ä¢ Semana 7</div>

    </div>
</body>

</html>