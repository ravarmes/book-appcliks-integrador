<!doctype html>
<html lang='pt-BR'>

<head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width,initial-scale=1' />
    <title>Semana 10 ‚Äî Integra√ß√µes e APIs</title>
    <link rel='stylesheet' type='text/css' href='../css/style.css' />
</head>

<body>
    <div class='container'>

        <header>
            <h1 id='sem10'>SEMANA 10 ‚Äì Integra√ß√µes e APIs</h1>
            <p class='lead'>Com o app j√° integrado ao Supabase e a autentica√ß√£o funcionando desde as
                semanas anteriores, esta semana o foco √© realizar os testes de integra√ß√£o end-to-end,
                explorar o Realtime do Supabase e, opcionalmente, conectar APIs externas ao seu projeto.</p>
        </header>
        <hr />

        <p>Com o Supabase configurado desde a Semana 6, o CRUD implementado e a autentica√ß√£o
            ativada na Semana 9, chegou o momento de <strong>validar o conjunto completo</strong>:
            testar o app de ponta a ponta com dados reais, verificar se o RLS est√° protegendo
            corretamente os dados de cada usu√°rio e explorar recursos avan√ßados como o Realtime e
            integra√ß√µes com APIs externas.</p>

        <table class="box-table tip-table">
            <tr>
                <td class="box-content tip" role="note" aria-labelledby="curiosity-s10">
                    <div id="curiosity-s10" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                            alt="Curiosidade"><strong>Voc√™ Sabia?</strong></div>
                    <div>
                        <ul>
                            <li>O Supabase gera automaticamente uma <strong>API RESTful</strong> completa
                                para cada tabela do seu banco de dados.</li>
                            <li>Al√©m da API REST, o Supabase oferece <strong>Realtime</strong> ‚Äî dados
                                que se atualizam em tempo real no app quando o banco √© modificado.</li>
                            <li>O FlutterFlow permite integrar APIs externas usando o recurso de
                                <strong>Custom Actions</strong> e <strong>API Calls</strong>.
                            </li>
                        </ul>
                        <p class="small" style="margin-top: 1em; color: #666; font-style: italic;">Fonte:
                            Supabase Documentation; FlutterFlow Docs.</p>
                    </div>
                </td>
            </tr>
        </table>

        <section id='sec10-1'>
            <h2>10.1 Como o FlutterFlow Consome o Supabase</h2>
            <p>Quando voc√™ configura o Supabase no FlutterFlow, a ferramenta gera automaticamente
                os m√©todos de acesso ao banco via a API do Supabase. Cada query configurada no
                <em>Backend Query</em> do FlutterFlow se traduz em uma chamada HTTP para o Supabase.
            </p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="def-s10-api">
                        <div id="def-s10-api" class="box-title"><img src="../images/icon-definicao.png" class="icon-img"
                                alt="Defini√ß√£o"><strong>Defini√ß√£o</strong></div>
                        <div>
                            <p><strong>API (Application Programming Interface):</strong> conjunto de regras
                                e protocolos que permite que sistemas diferentes se comuniquem. A API do
                                Supabase usa o padr√£o REST, onde cada opera√ß√£o √© uma chamada HTTP com um
                                m√©todo (GET, POST, PATCH, DELETE) e uma URL espec√≠fica.</p>
                        </div>
                    </td>
                </tr>
            </table>

            <h3>Estrutura da API do Supabase</h3>
            <table class='content-table'>
                <caption><strong>Tabela 10.1 - </strong>Exemplos de chamadas √† API REST do Supabase.</caption>
                <thead>
                    <tr>
                        <th>Opera√ß√£o</th>
                        <th>M√©todo HTTP</th>
                        <th>URL (exemplo)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ler todas as despesas</td>
                        <td>GET</td>
                        <td><code>/rest/v1/despesas?select=*</code></td>
                    </tr>
                    <tr>
                        <td>Filtrar por usu√°rio</td>
                        <td>GET</td>
                        <td><code>/rest/v1/despesas?usuario_id=eq.{uid}</code></td>
                    </tr>
                    <tr>
                        <td>Inserir despesa</td>
                        <td>POST</td>
                        <td><code>/rest/v1/despesas</code></td>
                    </tr>
                    <tr>
                        <td>Atualizar despesa</td>
                        <td>PATCH</td>
                        <td><code>/rest/v1/despesas?id=eq.{id}</code></td>
                    </tr>
                    <tr>
                        <td>Excluir despesa</td>
                        <td>DELETE</td>
                        <td><code>/rest/v1/despesas?id=eq.{id}</code></td>
                    </tr>
                </tbody>
            </table>

            <p>A <strong>Figura 10.1</strong> apresenta a arquitetura completa de integra√ß√µes do app:
                como o FlutterFlow se comunica com o Supabase para CRUD, autentica√ß√£o e Realtime,
                e como APIs externas podem ser integradas diretamente via API Calls.</p>

            <figure class='figure'>
                <img src='../images/fig10_1_api_arquitetura.png'
                    alt='Diagrama de arquitetura mostrando FlutterFlow conectado ao Supabase e APIs externas'
                    class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 10.1 ‚Äî </strong>Arquitetura de integra√ß√µes:
                    FlutterFlow ‚Üî Supabase (CRUD/Auth/Realtime) e APIs externas.</figcaption>
            </figure>
        </section>

        <section id='sec10-2'>
            <h2>10.2 Realtime: Dados em Tempo Real</h2>
            <p>O Supabase oferece o recurso de <strong>Realtime</strong>, que permite que o app
                receba atualiza√ß√µes autom√°ticas quando os dados no banco mudam, sem precisar
                atualizar a tela manualmente.</p>

            <p>No FlutterFlow, basta ativar a op√ß√£o <strong>Real Time</strong> no Backend Query
                da tela de listagem. Quando um novo dado for inserido no banco (por outro usu√°rio
                ou por outro dispositivo), a lista se atualiza automaticamente.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="tip-s10-rt">
                        <div id="tip-s10-rt" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Dica"><strong>Caso de Uso do Realtime</strong></div>
                        <div>
                            <p>O Realtime √© ideal para apps colaborativos: <em>listas de tarefas compartilhadas</em>,
                                <em>chats</em>, <em>placar de jogos</em>, <em>monitoramento em tempo real</em>.
                                Se o seu app n√£o tem necessidade de atualiza√ß√£o em tempo real, voc√™ pode
                                deixar o Realtime desativado para economizar recursos.
                            </p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec10-3'>
            <h2>10.3 Integra√ß√µes com APIs Externas</h2>
            <p>O FlutterFlow permite integrar qualquer API REST externa via <strong>API Calls</strong>.
                Isso abre possibilidades de enriquecer seu app com dados e funcionalidades de
                servi√ßos de terceiros.</p>

            <h3>Exemplos de APIs Gratuitas para Projetos</h3>
            <table class='content-table'>
                <caption><strong>Tabela 10.2 - </strong>APIs p√∫blicas e gratuitas para integra√ß√£o.</caption>
                <thead>
                    <tr>
                        <th>API</th>
                        <th>O que oferece</th>
                        <th>Exemplo de uso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ViaCEP</strong></td>
                        <td>Dados de endere√ßo a partir do CEP</td>
                        <td>Preenchimento autom√°tico de endere√ßo</td>
                    </tr>
                    <tr>
                        <td><strong>OpenWeatherMap</strong></td>
                        <td>Previs√£o do tempo</td>
                        <td>App de atividades ao ar livre</td>
                    </tr>
                    <tr>
                        <td><strong>Open Food Facts</strong></td>
                        <td>Informa√ß√µes nutricionais de alimentos</td>
                        <td>App de dieta/nutri√ß√£o</td>
                    </tr>
                    <tr>
                        <td><strong>ExchangeRate API</strong></td>
                        <td>Taxas de c√¢mbio em tempo real</td>
                        <td>App de controle financeiro com c√¢mbio</td>
                    </tr>
                    <tr>
                        <td><strong>Google Maps API</strong></td>
                        <td>Mapas, rotas, localiza√ß√£o</td>
                        <td>App de entrega, localiza√ß√£o de servi√ßos</td>
                    </tr>
                </tbody>
            </table>

            <h3>Configurando uma API Call no FlutterFlow</h3>
            <ol>
                <li>Acesse <strong>API Calls</strong> no menu lateral.</li>
                <li>Clique em <strong>+ Add API Call</strong>.</li>
                <li>Defina o nome, m√©todo HTTP (GET, POST) e a URL da API.</li>
                <li>Configure os par√¢metros, cabe√ßalhos (headers) e o corpo (body) se necess√°rio.</li>
                <li>Teste a chamada com o bot√£o <strong>Test API Call</strong>.</li>
                <li>Mapeie os campos da resposta JSON para vari√°veis do FlutterFlow.</li>
            </ol>
        </section>

        <section id='sec10-4'>
            <h2>10.4 Testes de Integra√ß√£o</h2>
            <p>Ap√≥s a integra√ß√£o completa com o Supabase, realize os seguintes testes para validar
                o funcionamento do app:</p>

            <table class='content-table'>
                <caption><strong>Tabela 10.3 - </strong>Checklist de testes de integra√ß√£o com o Supabase.</caption>
                <thead>
                    <tr>
                        <th>Teste</th>
                        <th>Crit√©rio de Sucesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Cadastro de usu√°rio</td>
                        <td>Usu√°rio criado com sucesso no Supabase Auth</td>
                    </tr>
                    <tr>
                        <td>Login</td>
                        <td>Usu√°rio autenticado e redirecionado para a tela principal</td>
                    </tr>
                    <tr>
                        <td>Inser√ß√£o de dado</td>
                        <td>Registro aparece na tabela do Supabase ap√≥s o cadastro</td>
                    </tr>
                    <tr>
                        <td>Leitura de dados</td>
                        <td>Lista exibe apenas os dados do usu√°rio logado</td>
                    </tr>
                    <tr>
                        <td>Atualiza√ß√£o de dado</td>
                        <td>Altera√ß√£o refletida no banco e na tela de listagem</td>
                    </tr>
                    <tr>
                        <td>Exclus√£o de dado</td>
                        <td>Registro removido do banco e da lista</td>
                    </tr>
                    <tr>
                        <td>Logout</td>
                        <td>Sess√£o encerrada, usu√°rio redirecionado para o login</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id='sec10-5'>
            <h2>10.5 Entreg√°vel da Semana</h2>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="resumo-s10">
                        <div id="resumo-s10" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Resumo"><strong>Resumo da Semana</strong></div>
                        <div>
                            <ul>
                                <li><strong>CRUD completo funcionando</strong> com leitura/escrita no
                                    Supabase.</li>
                                <li><strong>Resultado dos testes de integra√ß√£o</strong> (checklist preenchido).</li>
                                <li><strong>Integra√ß√£o com API externa</strong> (se aplic√°vel ao projeto).</li>
                                <li><strong>V√≠deo ou screenshots</strong> demonstrando o app funcionando
                                    com dados reais no Supabase.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>

            <p>Na pr√≥xima semana, voc√™ ir√° revisar as funcionalidades implementadas e verificar
                o atendimento ao checklist de requisitos do projeto.</p>
        </section>

        <section id='caso-sem10'>
            <h2>10.6 Estudo de Caso: FinanCampus</h2>
            <p>Veja os resultados dos testes de integra√ß√£o do <strong>FinanCampus</strong> com o Supabase.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="caso-sem10-label">
                        <div id="caso-sem10-label" class="box-title"><img src="../images/icon-observacao.png"
                                class="icon-img" alt="Estudo de Caso"><strong>üì± Estudo de Caso ‚Äî Semana 10</strong>
                        </div>
                        <div>
                            <p><strong>Resultado dos testes de integra√ß√£o (7/7 aprovados):</strong></p>
                            <ul>
                                <li>‚úÖ Cadastro: novo usu√°rio criado no Supabase Auth e registro inserido em
                                    <code>perfis</code> automaticamente.
                                </li>
                                <li>‚úÖ Login: token JWT retornado e armazenado; redirecionamento para Home.</li>
                                <li>‚úÖ Insert: despesa inserida, vis√≠vel na tabela <code>despesas</code> no painel do
                                    Supabase.</li>
                                <li>‚úÖ Select: listagem exibe apenas as despesas do usu√°rio logado (RLS funcionando).
                                </li>
                                <li>‚úÖ Update: edi√ß√£o de despesa refletida no banco em menos de 1 segundo.</li>
                                <li>‚úÖ Delete: despesa exclu√≠da do banco e removida da lista sem recarregar.</li>
                                <li>‚úÖ Logout: sess√£o encerrada, tentativa de acessar dados retorna erro 401 (RLS
                                    bloqueou).</li>
                            </ul>
                            <p><strong>API externa integrada:</strong> a API <strong>ViaCEP</strong> foi
                                configurada via API Call para preencher automaticamente o endere√ßo na tela
                                de Perfil quando o usu√°rio informa o CEP.</p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <div class="page-foot">Prof. Rafael Vargas Mesquita ‚Äî Projeto Integrador ‚Ä¢ Semana 10</div>

    </div>
</body>

</html>