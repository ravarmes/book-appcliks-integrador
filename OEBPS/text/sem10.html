<!doctype html>
<html lang='pt-BR'>

<head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width,initial-scale=1' />
    <title>Semana 10 ‚Äî Integra√ß√µes e APIs</title>
    <link rel='stylesheet' type='text/css' href='../css/style.css' />
</head>

<body>
    <div class='container'>

        <header>
            <h1 id='sem10'>SEMANA 10 ‚Äì Integra√ß√µes e APIs</h1>
            <p class='lead'>Com o app j√° integrado ao Firebase e a autentica√ß√£o funcionando desde as
                semanas anteriores, esta semana o foco √© realizar os testes de integra√ß√£o end-to-end,
                explorar o Realtime do Firestore e, opcionalmente, conectar APIs externas ao seu projeto.</p>
        </header>
        <hr />

        <p>Com o Firebase configurado desde a Semana 5, o CRUD implementado na Semana 6, e as
            Security Rules ativadas na Semana 9, chegou o momento de <strong>validar o conjunto
                completo</strong>: testar o app de ponta a ponta com dados reais, verificar se as
            Security Rules est√£o protegendo corretamente os dados de cada usu√°rio e explorar
            recursos avan√ßados como o Realtime e integra√ß√µes com APIs externas.</p>

        <table class="box-table tip-table">
            <tr>
                <td class="box-content tip" role="note" aria-labelledby="curiosity-s10">
                    <div id="curiosity-s10" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                            alt="Curiosidade"><strong>Voc√™ Sabia?</strong></div>
                    <div>
                        <ul>
                            <li>O Firebase oferece <strong>Realtime</strong> nativo ‚Äî dados que se
                                atualizam automaticamente no app quando o banco √© modificado, sem precisar
                                recarregar a tela.</li>
                            <li>O FlutterFlow permite integrar APIs externas usando o recurso de
                                <strong>Custom Actions</strong> e <strong>API Calls</strong>,
                                expandindo as funcionalidades do app.
                            </li>
                            <li>A comunica√ß√£o entre o FlutterFlow e o Firebase √© feita via
                                <strong>Firebase SDK</strong> (biblioteca cliente), e n√£o via
                                API REST como em outros backends.
                            </li>
                        </ul>
                        <p class="small" style="margin-top: 1em; color: #666; font-style: italic;">Fonte:
                            Firebase Documentation; FlutterFlow Docs.</p>
                    </div>
                </td>
            </tr>
        </table>

        <section id='sec10-1'>
            <h2>10.1 Como o FlutterFlow se Comunica com o Firebase</h2>
            <p>Quando voc√™ conecta o Firebase ao FlutterFlow, a comunica√ß√£o √© feita diretamente via
                o <strong>Firebase SDK</strong> ‚Äî n√£o √© necess√°rio construir uma API REST manualmente.
                Cada Action configurada no FlutterFlow (Create Document, Query Collection, Update
                Document, Delete Document) √© traduzida automaticamente em uma chamada ao Firestore.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="def-s10-api">
                        <div id="def-s10-api" class="box-title"><img src="../images/icon-definicao.png" class="icon-img"
                                alt="Defini√ß√£o"><strong>Defini√ß√£o</strong></div>
                        <div>
                            <p><strong>API (Application Programming Interface):</strong> conjunto de regras
                                e protocolos que permite que sistemas diferentes se comuniquem. No contexto
                                mobile, APIs s√£o usadas para buscar dados de servi√ßos externos (previs√£o do
                                tempo, CEP, c√¢mbio, mapas etc.).</p>
                        </div>
                    </td>
                </tr>
            </table>

            <h3>Correspond√™ncia entre Actions e Opera√ß√µes Firestore</h3>
            <table class='content-table'>
                <caption><strong>Tabela 10.1 - </strong>Actions do FlutterFlow e suas opera√ß√µes no
                    Firestore.</caption>
                <thead>
                    <tr>
                        <th>Action no FlutterFlow</th>
                        <th>Opera√ß√£o no Firestore</th>
                        <th>Tipo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Create Document</td>
                        <td>Adiciona um novo documento √† cole√ß√£o</td>
                        <td>Escrita</td>
                    </tr>
                    <tr>
                        <td>Query Collection</td>
                        <td>Busca documentos com filtros e ordena√ß√£o</td>
                        <td>Leitura</td>
                    </tr>
                    <tr>
                        <td>Document from Reference</td>
                        <td>Busca um documento espec√≠fico pelo ID</td>
                        <td>Leitura</td>
                    </tr>
                    <tr>
                        <td>Update Document</td>
                        <td>Modifica campos de um documento existente</td>
                        <td>Escrita</td>
                    </tr>
                    <tr>
                        <td>Delete Document</td>
                        <td>Remove um documento da cole√ß√£o</td>
                        <td>Escrita</td>
                    </tr>
                </tbody>
            </table>

            <p>A <strong>Figura 10.1</strong> apresenta a arquitetura completa de integra√ß√µes do app:
                como o FlutterFlow se comunica com o Firebase para CRUD, autentica√ß√£o e Realtime,
                e como APIs externas podem ser integradas diretamente via API Calls.</p>

            <figure class='figure'>
                <img src='../images/fig10_1_api_arquitetura.png'
                    alt='Diagrama de arquitetura mostrando FlutterFlow conectado ao Firebase e APIs externas'
                    class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 10.1 ‚Äî </strong>Arquitetura de integra√ß√µes:
                    FlutterFlow ‚Üî Firebase (CRUD/Auth/Realtime) e APIs externas.</figcaption>
            </figure>

            <h3>Entendendo os M√©todos HTTP ‚Äî REST na Pr√°tica</h3>
            <p>Embora a comunica√ß√£o com o Firebase seja via SDK (n√£o REST), compreender os m√©todos
                HTTP √© fundamental para trabalhar com <strong>APIs externas</strong>. A
                <strong>Figura 10.2</strong> mostra o mapeamento dos m√©todos HTTP mais comuns e
                quando cada um deve ser usado.
            </p>

            <figure class='figure'>
                <img src='../images/fig10_2_api_rest.png'
                    alt='Diagrama mostrando os m√©todos HTTP GET POST PATCH DELETE e suas finalidades'
                    class='figure-img' />
                <figcaption class='figure-caption'><strong>Figura 10.2 ‚Äî </strong>M√©todos HTTP REST: cada verbo
                    (GET, POST, PATCH, DELETE) tem uma finalidade espec√≠fica na comunica√ß√£o com APIs externas.
                </figcaption>
            </figure>
        </section>

        <section id='sec10-2'>
            <h2>10.2 Realtime: Dados em Tempo Real</h2>
            <p>O Firestore oferece o recurso de <strong>Realtime</strong> (listen/snapshot), que
                permite que o app receba atualiza√ß√µes autom√°ticas quando os dados no banco mudam,
                sem precisar atualizar a tela manualmente.</p>

            <p>No FlutterFlow, basta ativar a op√ß√£o <strong>Listen for Changes</strong> no Backend
                Query da tela de listagem. Quando um novo dado for inserido ou alterado no banco
                (por outro dispositivo ou pela interface do console), a lista se atualiza
                automaticamente.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="tip-s10-rt">
                        <div id="tip-s10-rt" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Dica"><strong>Caso de Uso do Realtime</strong></div>
                        <div>
                            <p>O Realtime √© ideal para apps colaborativos: <em>listas de tarefas
                                    compartilhadas</em>, <em>chats</em>, <em>placar de jogos</em>,
                                <em>monitoramento em tempo real</em>. Se o seu app n√£o tem necessidade
                                de atualiza√ß√£o em tempo real, voc√™ pode deixar o Realtime desativado
                                para economizar recursos (leituras no plano gratuito).
                            </p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec10-3'>
            <h2>10.3 Integra√ß√µes com APIs Externas</h2>
            <p>O FlutterFlow permite integrar qualquer API REST externa via <strong>API Calls</strong>.
                Isso abre possibilidades de enriquecer seu app com dados e funcionalidades de
                servi√ßos de terceiros.</p>

            <h3>Exemplos de APIs Gratuitas para Projetos</h3>
            <table class='content-table'>
                <caption><strong>Tabela 10.2 - </strong>APIs p√∫blicas e gratuitas para integra√ß√£o.</caption>
                <thead>
                    <tr>
                        <th>API</th>
                        <th>O que oferece</th>
                        <th>Exemplo de uso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ViaCEP</strong></td>
                        <td>Dados de endere√ßo a partir do CEP</td>
                        <td>Preenchimento autom√°tico de endere√ßo</td>
                    </tr>
                    <tr>
                        <td><strong>OpenWeatherMap</strong></td>
                        <td>Previs√£o do tempo</td>
                        <td>App de atividades ao ar livre</td>
                    </tr>
                    <tr>
                        <td><strong>Open Food Facts</strong></td>
                        <td>Informa√ß√µes nutricionais de alimentos</td>
                        <td>App de dieta/nutri√ß√£o</td>
                    </tr>
                    <tr>
                        <td><strong>ExchangeRate API</strong></td>
                        <td>Taxas de c√¢mbio em tempo real</td>
                        <td>App de controle financeiro com c√¢mbio</td>
                    </tr>
                    <tr>
                        <td><strong>Google Maps API</strong></td>
                        <td>Mapas, rotas, localiza√ß√£o</td>
                        <td>App de entrega, localiza√ß√£o de servi√ßos</td>
                    </tr>
                </tbody>
            </table>

            <h3>Configurando uma API Call no FlutterFlow</h3>
            <ol>
                <li>Acesse <strong>API Calls</strong> no menu lateral.</li>
                <li>Clique em <strong>+ Add API Call</strong>.</li>
                <li>Defina o nome, m√©todo HTTP (GET, POST) e a URL da API.</li>
                <li>Configure os par√¢metros, cabe√ßalhos (headers) e o corpo (body) se necess√°rio.</li>
                <li>Teste a chamada com o bot√£o <strong>Test API Call</strong>.</li>
                <li>Mapeie os campos da resposta JSON para vari√°veis do FlutterFlow.</li>
            </ol>
        </section>

        <section id='sec10-4'>
            <h2>10.4 Testes de Integra√ß√£o</h2>
            <p>Ap√≥s a integra√ß√£o completa com o Firebase, realize os seguintes testes para validar
                o funcionamento do app:</p>

            <table class='content-table'>
                <caption><strong>Tabela 10.3 - </strong>Checklist de testes de integra√ß√£o com o Firebase.
                </caption>
                <thead>
                    <tr>
                        <th>Teste</th>
                        <th>Crit√©rio de Sucesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Cadastro de usu√°rio</td>
                        <td>Usu√°rio criado com sucesso no Firebase Auth</td>
                    </tr>
                    <tr>
                        <td>Login</td>
                        <td>Usu√°rio autenticado e redirecionado para a tela principal</td>
                    </tr>
                    <tr>
                        <td>Inser√ß√£o de dado</td>
                        <td>Documento aparece na cole√ß√£o do Firestore ap√≥s o cadastro</td>
                    </tr>
                    <tr>
                        <td>Leitura de dados</td>
                        <td>Lista exibe apenas os dados do usu√°rio logado</td>
                    </tr>
                    <tr>
                        <td>Atualiza√ß√£o de dado</td>
                        <td>Altera√ß√£o refletida no banco e na tela de listagem</td>
                    </tr>
                    <tr>
                        <td>Exclus√£o de dado</td>
                        <td>Documento removido do banco e da lista</td>
                    </tr>
                    <tr>
                        <td>Logout</td>
                        <td>Sess√£o encerrada, usu√°rio redirecionado para o login</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id='sec10-5'>
            <h2>10.5 Entreg√°vel da Semana</h2>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="resumo-s10">
                        <div id="resumo-s10" class="box-title"><img src="../images/icon-observacao.png" class="icon-img"
                                alt="Resumo"><strong>Resumo da Semana</strong></div>
                        <div>
                            <ul>
                                <li><strong>CRUD completo funcionando</strong> com leitura/escrita no
                                    Firestore.</li>
                                <li><strong>Resultado dos testes de integra√ß√£o</strong> (checklist preenchido).</li>
                                <li><strong>Integra√ß√£o com API externa</strong> (se aplic√°vel ao projeto).</li>
                                <li><strong>V√≠deo ou screenshots</strong> demonstrando o app funcionando
                                    com dados reais no Firebase.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>

            <p>Na pr√≥xima semana, voc√™ ir√° revisar as funcionalidades implementadas e verificar
                o atendimento ao checklist de requisitos do projeto.</p>
        </section>

        <section id='caso-sem10'>
            <h2>10.6 Estudo de Caso: FinanCampus</h2>
            <p>Veja os resultados dos testes de integra√ß√£o do <strong>FinanCampus</strong> com o
                Firebase.</p>

            <table class="box-table tip-table">
                <tr>
                    <td class="box-content tip" role="note" aria-labelledby="caso-sem10-label">
                        <div id="caso-sem10-label" class="box-title"><img src="../images/icon-observacao.png"
                                class="icon-img" alt="Estudo de Caso"><strong>üì± Estudo de Caso ‚Äî Semana 10</strong>
                        </div>
                        <div>
                            <p><strong>Resultado dos testes de integra√ß√£o (7/7 aprovados):</strong></p>
                            <ul>
                                <li>‚úÖ Cadastro: novo usu√°rio criado no Firebase Auth com sucesso.</li>
                                <li>‚úÖ Login: autentica√ß√£o bem-sucedida; redirecionamento para Home.</li>
                                <li>‚úÖ Create: despesa inserida, vis√≠vel na cole√ß√£o <code>despesas</code>
                                    no console do Firestore.</li>
                                <li>‚úÖ Read: listagem exibe apenas as despesas do usu√°rio logado (Security
                                    Rules funcionando).</li>
                                <li>‚úÖ Update: edi√ß√£o de despesa refletida no banco em menos de 1 segundo.</li>
                                <li>‚úÖ Delete: despesa exclu√≠da do banco e removida da lista.</li>
                                <li>‚úÖ Logout: sess√£o encerrada, tentativa de acessar dados bloqueada
                                    pelas Security Rules.</li>
                            </ul>
                            <p><strong>API externa integrada:</strong> a API <strong>ViaCEP</strong> foi
                                configurada via API Call para preencher automaticamente o endere√ßo na tela
                                de Perfil quando o usu√°rio informa o CEP.</p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <div class="page-foot">Prof. Rafael Vargas Mesquita ‚Äî Projeto Integrador ‚Ä¢ Semana 10</div>

    </div>
</body>

</html>